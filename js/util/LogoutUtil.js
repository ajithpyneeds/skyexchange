if(typeof(LogoutUtilHandler)=="undefined"){LogoutUtilHandler={}}(function(){var a={updateDate:0,windows:{}};LogoutUtilHandler.init=function(){try{var f=new Date().getTime();if(opener!=null&&!opener.closed&&opener.LogoutUtilHandler){var d=opener.LogoutUtilHandler.getWindowList();$j.extend(a,d);a.updateDate=f;a.windows[f]=window;LogoutUtilHandler.recursive(opener.opener);opener.LogoutUtilHandler.check()}else{a.windows[f]=window}setInterval("LogoutUtilHandler.check();",20000)}catch(c){a.windows[f]=window}};LogoutUtilHandler.recursive=function(c){if(c!=null&&!c.closed&&c.LogoutUtilHandler){var d=c.LogoutUtilHandler.getWindowList();$j.extend(d,a);LogoutUtilHandler.recursive(c.opener)}};LogoutUtilHandler.check=function(){var g=a.updateDate;var f=null;for(var i in a.windows){var c=a.windows[i];try{if(c&&!c.closed&&c.updateDate>g){g=c.updateDate;f=c}}catch(h){}}if(f!=null){a=f.getWindowList()}var d={};var j=false;for(var i in a.windows){var c=a.windows[i];try{if(c&&c.closed){j=true;continue}d[i]=c}catch(h){}}a.windows=d;if(j){a.updateDate=new Date().getTime()}};LogoutUtilHandler.getWindowList=function(){return a};LogoutUtilHandler.logout=function(){var d=[];for(var h in a.windows){d.push(h)}for(var i=d.length;i--;){try{var c=a.windows[d[i]];if(c&&!c.closed&&(c.opener!=null)){c.close()}else{if(c.opener==null){if(PageConfig.ENABLE_SEPARATE_AGENT_PLAYER_LOGIN){c.location=b(c)}else{var g="/login/memberAuthController/logout/member";if(c.location.pathname.indexOf("agent")>0){g="/login/memberAuthController/logout/agent"}c.location=g}}}}catch(f){}}};LogoutUtilHandler.logoutAPI=function(){var d=[];for(var h in a.windows){d.push(h)}for(var i=d.length;i--;){try{var c=a.windows[d[i]];if(i>0){if(c&&!c.closed&&(c.opener!=null)){c.close();continue}}if(PageConfig.ENABLE_SEPARATE_AGENT_PLAYER_LOGIN){c.location=b(c)}else{var g="/login/memberAuthController/logout/member";if(c.location.pathname.indexOf("agent")>0){g="/login/memberAuthController/logout/agent"}c.location=g}}catch(f){}}};function b(c){var d="/login/memberAuthController/logout/member";if(c.location.pathname.indexOf("agent")>0){d="/login/agentAuthController/logout"}return d}})();