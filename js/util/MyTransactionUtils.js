if(typeof(MyTransactionUtils)=="undefined"){MyTransactionUtils={}}(function(){MyTransactionUtils.isActive=function(a){return((a&MyTransactionStatusType.Active.unique())==MyTransactionStatusType.Active.unique())};MyTransactionUtils.isVoid=function(a){return((a&MyTransactionStatusType.Void.unique())==MyTransactionStatusType.Void.unique())};MyTransactionUtils.isOPCancel=function(a){return((a&MyTransactionStatusType.OPCancel.unique())==MyTransactionStatusType.OPCancel.unique())};MyTransactionUtils.isSettle=function(a){return((a&MyTransactionStatusType.Settle.unique())==MyTransactionStatusType.Settle.unique())};MyTransactionUtils.calculateAverageOdds=function(f){var d=new HashMap();var a=new HashMap();for(var n=0;n<=f.length-1;n++){var r=f[n];var c=d.get(r.sideType+"_"+r.selectionId);if(c==null){c=[]}c.push(r);d.put(r.sideType+"_"+r.selectionId,c)}var g=d.keySet();for(var l in g){var q=g[l];var m=0;var e=0;var p=0;var b=0;var k={};var o=d.get(q);for(var h in o){k=o[h];m=MathUtil.decimal.add(m,parseFloat(k.stake));b=MathUtil.decimal.add(b,parseFloat(k.stakeOdds))}e=MathUtil.decimal.divide(b,m);e=MathUtil.roundp(e,2);p=MathUtil.decimal.multiply(MathUtil.decimal.subtract(e,1),m);k.averageOdds=e;k.totalStake=m;k.totalProfit=p;a.put(q,k)}return a};MyTransactionUtils.getFancyBetPL=function(b,a){var c=MathUtil.decimal.multiply(MathUtil.decimal.divide(parseFloat(b),100),parseFloat(a));if(isNaN(c)){c=0}return c};MyTransactionUtils.isContainsStatus=function(c,a){var b=false;$j.each(c,function(e,d){d=c[e];if(MyTransactionStatusType.Settle.unique()==d&&MyTransactionUtils.isSettle(a)){b=true;return false}if(MyTransactionStatusType.Active.unique()==d&&MyTransactionUtils.isActive(a)&&!MyTransactionUtils.isSettle(a)){b=true;return false}if(MyTransactionStatusType.Void.unique()==d&&MyTransactionUtils.isVoid(a)&&!MyTransactionUtils.isSettle(a)){b=true;return false}if(MyTransactionStatusType.OPCancel.unique()==d&&MyTransactionUtils.isOPCancel(a)&&!MyTransactionUtils.isSettle(a)){b=true;return false}});return b}})();